<div class="app-container" *ngIf="loggedIn$ | async">
  <!-- User Header (always visible at top) -->
  <div class="user-header-section">
    <crates-user-header 
      *ngIf="userLoaded$ | async"
      [user]="user$ | async"
      (logout)="logout()">
    </crates-user-header>
  </div>

  <!-- Main Content Area (scrollable) -->
  <div class="main-content-section">
    <div class="main-content-container">
      <router-outlet></router-outlet>
    </div>
  </div>

  <!-- Mobile Footer (always visible at bottom on mobile) -->
  <div class="mobile-footer-section">
    <crates-mobile-footer></crates-mobile-footer>
  </div>
</div>

<!-- Login/Welcome state for non-authenticated users -->
<div class="welcome-container" *ngIf="!(loggedIn$ | async)">
  <router-outlet></router-outlet>
</div>