<div class="user-header-wrapper" *ngIf="user">
  <div class="header-container">
    <div class="user-header">
      <div class="user-info">
        <span class="user-name">{{ getDisplayName() }}</span>
      </div>
      
      <!-- Desktop Navigation Tabs -->
      <div class="nav-tabs d-none d-sm-flex">
        <button 
          *ngFor="let tab of desktopTabs" 
          class="nav-tab" 
          [class.active]="(currentTab$ | async) === tab.id"
          (click)="navigateToTab(tab.id)">
          <i [class]="tab.icon"></i>
          <span>{{ tab.label }}</span>
        </button>
      </div>
      
      <div class="user-actions">
        <!-- Desktop: Show CratesGPT, public profile, settings and logout -->
        <div class="d-none d-sm-flex align-items-center gap-2">
          <a 
            class="btn btn-sm btn-outline-primary" 
            href="https://chatgpt.com/g/g-6875a074381c819190d0ef21578ccda9-cratesgpt?utm_source=crates&utm_medium=webapp&utm_campaign=user_header"
            target="_blank" 
            rel="noopener"
            title="Try CratesGPT">
            <i class="bi-robot"></i>
          </a>
          <button 
            class="btn btn-sm btn-outline-secondary" 
            (click)="openPublicProfile()"
            title="View Public Profile"
            *ngIf="!user.privateProfile">
            <i class="bi-box-arrow-up-right"></i>
          </button>
          <button 
            class="btn btn-sm btn-outline-secondary" 
            (click)="navigateToSettings()"
            title="Profile Settings">
            <i class="bi-gear"></i>
          </button>
          <button 
            class="btn btn-sm btn-outline-secondary" 
            (click)="onLogout()"
            title="Logout">
            <i class="bi-power"></i>
          </button>
        </div>
        
        <!-- Mobile: Show CratesGPT, public profile and logout -->
        <div class="d-sm-none d-flex align-items-center gap-2">
          <a 
            class="btn btn-sm btn-outline-primary" 
            href="https://chatgpt.com/g/g-6875a074381c819190d0ef21578ccda9-cratesgpt?utm_source=crates&utm_medium=webapp&utm_campaign=user_header_mobile"
            target="_blank" 
            rel="noopener"
            title="Try CratesGPT">
            <i class="bi-robot"></i>
          </a>
          <button 
            class="btn btn-sm btn-outline-secondary" 
            (click)="openPublicProfile()"
            title="View Public Profile"
            *ngIf="!user.privateProfile">
            <i class="bi-box-arrow-up-right"></i>
          </button>
          <button 
            class="btn btn-sm btn-outline-secondary" 
            (click)="onLogout()"
            title="Logout">
            <i class="bi-power"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>